<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>
      Blank
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">

  <form [formGroup]="formGroup"
        (ngSubmit)="submitForm()">
    <ion-item>
      <ion-label position="stacked">Username</ion-label>
      <ion-input formControlName="username"></ion-input>
    </ion-item>
    <p *ngIf="formGroup.dirty && formGroup.controls.username.errors?.required">
      Field is required
    </p>
    <ion-item>
      <ion-label position="stacked">Email</ion-label>
<!--      <ion-input [formControl]="formGroup.controls.email"></ion-input>-->
      <ion-input formControlName="email"></ion-input>
    </ion-item>
    <p>
      {{ formGroup.controls.email.errors | json}}
    </p>
    <ion-item>
      <ion-label position="stacked">Provide Address</ion-label>
      <ion-toggle [(ngModel)]="useAddress"
                  (ngModelChange)="toggleAddressFormGroup()"
                  [ngModelOptions]="{standalone: true}"></ion-toggle>
    </ion-item>

<!--    <div [formGroup]="formGroup.controls.address">-->
<!--      <ion-item>-->
<!--        <ion-label position="stacked">Street</ion-label>-->
<!--        <ion-input formControlName="street"></ion-input>-->
<!--      </ion-item>-->
<!--      <ion-item>-->
<!--        <ion-label position="stacked">Street Nr</ion-label>-->
<!--        <ion-input [formControl]="addressFormGroup.controls.streetNr"></ion-input>-->
<!--      </ion-item>-->
<!--      <ion-item>-->
<!--        <ion-label position="stacked">PLZ</ion-label>-->
<!--        <ion-input [formControl]="addressFormGroup.controls.plz"></ion-input>-->
<!--      </ion-item>-->
<!--    </div>-->

    <ion-button [disabled]="!formGroup.dirty" (click)="submitForm()">Submit</ion-button>
  </form>

  <p>
    Form Valid? {{ formGroup?.status }}
  </p>

  <p>
    {{ formGroup?.value | json }}
  </p>

</ion-content>
